<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css">
    <title>Document</title>
</head>
<style>


 .pictureimg{
   height: 180px;
   width: 79%;
   margin-left: 20%;
   margin-top: 3.5%;
   border: 1px solid black;
  }
  .pictureimg img{
    width: 100%;
    height: 100%;
  }
  .elembox{
    margin-left: 20%;
    /* padding: 10px; */
    /* border: 1px solid black; */
    width: 79%;
  }
  .header {
    position: relative; /* Establishes a positioning context for the child elements */
    width: 100%; /* Full width of the container */
    height: 60px; /* Adjust height as needed */
    /* border: 1px solid #ddd; Optional border for visual reference */
    display: flex; /* Use flexbox to align items */
    justify-content: space-between; /* Space items between the corners */
    align-items: center; /* Center items vertically */
    margin-top: 10px;
}
.sortbyname{
    width:21%;
    height: 50px;
}
.bottom-div{
    display: grid;
    grid-template-columns: repeat(4, 1fr); /* Responsive columns */
     font-size: 13px;
    grid-template-rows: repeat(5,400px);
    column-gap: 20px; /* Horizontal gap between columns */
    row-gap: 40px; /* Vertical gap between rows */
    /* border: 1PX solid black; */
}
.productdiv{
    /* border: 1px solid rgb(201, 24, 24); */
    margin-top: 20px;
   
    }
    .productname{
        font-size: 17px;
            font-family: Futura,sans-serif;
            color:#636060;
            letter-spacing: .025em;
            line-height: 1.6;
            text-align: center;
            font-weight: 400;
            margin-bottom: -6%;
            margin-top: -0.5%;
            text-transform: uppercase;
    }
    .price-det{
        /* margin: 1px 0; */
        font-size: 17px;
    }
    .iteimg{
    /* border: 1px solid black; */
    height: 80%;
    overflow: hidden;
   
}
.iteimg img {
            width: 100% ;
            height: 100%; 
        }
 .label{
  border: 1px solid black;
  font-size: 23px;
  height: 30px;
  width: 30px;
  /* font-weight: bolder; */
  text-align: center;
 }

</style>
<body>
    <div id =header> 
        <div class="logo">
          <a href="index.html">         <img alt="logo bluefly" src="https://www.bluefly.com/cdn/shop/files/BLUEFLY-LOGO-11-20.png?v=1613183141"> </a>
        </div>
        <div class="search">
            <input type="text" id="search-bar" placeholder="Search for clothing...">
    </div>
    <div class="login">
     <img alt="login" src="https://cdn-icons-png.flaticon.com/128/2321/2321232.png">
    </div>
    <div class="whishlist">
        <img alt="whishlist" src="https://static-00.iconduck.com/assets.00/wishlist-icon-2048x1952-13b2gake.png">
    </div>
    <div class="bag">
     <img class="cartIcon" alt="shopping bag" src="https://cdn-icons-png.flaticon.com/128/2567/2567829.png">
    </div>
    <div class="dot"></div>

    <div id="navbar">
     <h3><a href="projectbag.html">CLOTHING </a></h3>
     <h3><a href="projectbag.html">SHOES </a></h3>
     <h3><a href="projectbag.html">HANDBAGS </a></h3>
     <h3><a href="projectbag.html">DESNIGER </a></h3>
     <h3><a href="projectbag.html">SUNGLASSES </a></h3>
     <h3><a href="projectbag.html">JEWELRY & WATCHES</a></h3>
     <h3><a href="projectbag.html">UNDER $ 500</a></h3>
     <h3><a href="index.html">HOME </a></h3>
    </div>
    <h3 class="clear">CLEARANCE</h3>
     </div> 
     <div id="scrolling-bar">
        <span>WELCOME TO BLUEFLY: Luxury brands at discount price</span> </div>
        <div class="pictureimg">
        <img src="https://cdn.shopify.com/s/files/1/0248/3473/6191/files/Top_banner_asset_1200X200_ca56302f-fe77-4c56-aa8d-6f7ad2580832.jpg?v=1721945318" alt="img">
    </div>
    <div class="elembox">
        <div class="header">
            <span class="label" >NUMBER OF PRODUCT</span>
            <select class="sortbyname">
                <option>SORT BY NAME</option>
                <option>ASCENDING TO DESCENDING</option>
                <option>DESCENDING TO ASCENDING</option>
            </select>
        </div>
    </div>
        <div style="display: flex; height: 1000px; width: 100%;">
    <!-- </div> -->

    <div class="listitem"  style="width: 20%; flex: none;">
    <div class ="cont" >
        <div class="select-item">BRAND ></div>
        <hr class="category-separator" style="width: 83%; border: 1px solid rgb(212, 212, 210); margin: 0px;padding: 0px;">

        <ul>
            <li>
                <a>GUCCI</a>
            </li>
            <li>
                <a>VALENIINO</a>
            </li>
            <li>
                <a>CHRISTIAN LOUBOUTIN</a>
            </li>
            <li>
                <a>SAINT LAURENT</a>
            </li>
            <li><a>BALENCIAGA</a></li>
            <li><a>BOTTEGA VENETA</a></li>
            <li><a>FERRAGAMO</a></li>
            <li class="showmore"><a>SHOW MORE+</a></li>
        </ul>
    </div>
    <div class ="cont" >
    <div class="select-item"> SUB CATEGORY ></div>
    <hr class="category-separator" style="width: 83%; border: 1px solid rgb(212, 212, 210); margin: 0px;padding: 0px;">

    <ul>
        <li>
            <a>WOMEN'S WALLETS CARDHOLDERS</a>
        </li>
        <li>
            <a>WOMEN'S TOTE BAGS</a>
        </li>
        <li>
            <a>WOMEN'S CLUCHES & POUCHES</a>
        </li>
        <li>
            <a>WOMEN'S SATCHELS</a>
        </li>
        <li><a>WOMEN'S BUCKET BAGS</a></li>
        <li><a>WOMEN'S SHOULDER BAGS</a></li>
        <li><a>WOMEN'S HOBO BAGS</a></li>
        <li class="showmore"><a>SHOW MORE+</a></li>
    </ul>
</div>
<div class ="cont" >
    <div class="select-item"> COLOR ></div>
    <hr class="category-separator" style="width: 83%; border: 1px solid rgb(212, 212, 210); margin: 0px;padding: 0px;">

    <ul>
        <li>
            <a>BLACK</a>
        </li>
        <li>
            <a>BROWN MULTI</a>
        </li>
        <li>
            <a>PINK</a>
        </li>
        <li>
            <a>BLUE</a>
        </li>
        <li><a>WHITE</a></li>
        <li><a>BEIGE</a></li>
        <li><a>GREEN</a></li>
        <li class="showmore"><a>SHOW MORE+</a></li>
    </ul>
</div>
<div class ="cont" >
    <div class="select-item"> SIZE WOMEN'S ></div>
    <hr class="category-separator" style="width: 83%; border: 1px solid rgb(212, 212, 210); margin: 0px;padding: 0px;">

    <ul>
        <li>
            <a>ONE SIZE (1)</a>
        </li>
    </ul>
</div>
<div class ="cont" >
    <div class="select-item"> SIZE S-M-L ></div>
    <hr class="category-separator" style="width: 83%; border: 1px solid rgb(212, 212, 210); margin: 0px;padding: 0px;">

    <ul>
        <li>
            <a>ONE SIZE(1)</a>
        </li>
</div>
<div class ="cont" >
    <div class="select-item"> COLOR ></div>
    <hr class="category-separator" style="width: 83%; border: 1px solid rgb(212, 212, 210); margin: 0px;padding: 0px;">

    <ul>
        <li>
            <a>SORT BY PRICE  </a>
        </li>
        <li>
            <a>BROWN MULTI</a>
        </li>
        <li>
            <a>PINK</a>
        </li>
        <li>
            <a>BLUE</a>
        </li>
        <li><a>WHITE</a></li>
        <li><a>BEIGE</a></li>
        <li><a>GREEN</a></li>
        <li class="showmore"><a>SHOW MORE+</a></li>
    </ul>
</div>
<div class ="cont" >
    <div class="select-item"> PERCENT OFF ></div>
    <hr class="category-separator" style="width: 83%; border: 1px solid rgb(212, 212, 210); margin: 0px;padding: 0px;">

    <ul>
        <li>
            <a>MORE THAN 80% (2)</a>
        </li>
        <li>
            <a>MORE THAN 60% (422)</a>
        </li>
        <li>
            <a>MORE THAN 40% (1064)</a>
        </li>
        <li>
            <a>MORE THAN 20% (2175)</a>
        </li>
        <li><a>LESS THAN 20% (657)</a></li>
    </ul>
</div>
<div class ="cont" >
    <div class="select-item"> PRICE ></div>
    <hr class="category-separator" style="width: 83%; border: 1px solid rgb(212, 212, 210); margin: 0px;padding: 0px;">

    <ul>
        <li>
            <a id="sortprice">SORT BY PRICE </a>
        </li>
        <li>
            <a id="lth">LOW TO HIGH</a>
        </li>
        <li>
            <a id="htl">HIGH TO LOW</a>
        </li>
    </ul>
</div>
<div class ="cont" >
    <div class="select-item"> BAG SIZE ></div>
    <hr class="category-separator" style="width: 83%; border: 1px solid rgb(212, 212, 210); margin: 0px;padding: 0px;">

    <ul>
        <li>
            <a> EXTRA LARGE (2)</a>
        </li>
        <li>
            <a>LARGE (422)</a>
        </li>
        <li>
            <a>MEDIUM </a>
        </li>
        <li>
            <a>ONE SIZE FITS ALL (5) (2175)</a>
        </li>
        <li><a>OS (244)</a></li>
        <li>
            <a>S</a>
        </li>
        <li>
            <a>SMALL (14)</a>
        </li>
        <li class="showmore"><a>SHOW MORE+</a></li>
    </ul>
</div>
</div>
<div class="bottom-div" style="width: 80%; flex: none;" >
  <!-- <p>Content of the bottom div...</p> -->
</div>

</div>

<div class="vertical-line"></div>
<div id="aboutus" style="margin-top: 32%;">
    <a href="login.html"  class="about-link">
<h5  class="about">About US</h5> 
</a>
<div class="box-container">

<div class="box1">
<p>Contact Us</p> 
<p>Frequently Asked Questions </p>
<p>Shipping & Return</p>
<p>Pre-Owned Guide</p>
<p>Sell on Bluefly</p>
</div>
<div class="box1">
<p>Privacy Policy</p>
<p>Terms & Conditions </p>
<p> Do not sell my personal Information </p>
<p>Shop Pay Installments</p>
</div>
<div class="box1">
<p>Subscribe to get exclusive offers on designer brands</p>
<input id="input" style="width: 400px; height: 40px; text-align: center; font-size: 20px;" placeholder="Enter your email"><br>
<button class="sub">Subscribe</button> <br>
<span> <img id="ins" src="https://cdn-icons-png.flaticon.com/128/1384/1384031.png"></span> 
<span> <img id="fb" src="https://cdn-icons-png.flaticon.com/128/1384/1384005.png"></span>

</div>
</div>
<h5  class="signup">SIGN UP AND SAVE</h5>


<div id="box4">
  <img src="https://cdn.shopify.com/s/files/1/0248/3473/6191/files/Untitled_2_.png_5_x104@2x.png?v=1620852820">
 
  <p>© 2022 Bluefly 1998-2020 BLUEFLY.COM OR ITS AFFILIATES ALL RIGHTS RESERVED.</p>  
</div>   

<div id="cart-container">
    <h2 style="font-size: 30px; letter-spacing: 1.5px; font-weight: lighter; margin-left: 5%;">CART
        <span style="margin-left: 200px; font-size: 20px; margin-top: 30px;" class="cancel">X</span>
    </h2>
    <div class="horizontal-line" style="top: 35%;"></div>
    <div class="cart-item-container"> </div>
    <div style="width: 100%; border-top: 1px solid black; margin-top: 10px;"></div>
      
    
    
    <!-- Cart items will be dynamically inserted here -->
    
    <div class="cart-summary">
        <h2 class="subt" style="font-size: 22px;">SUBTOTAL</h2>
        <p class="displaysub" style="font-size: 22px;">$0.00</p>
    </div>
    <p style="letter-spacing: 2; font-size: 20px; color: #838383; margin-top: -2%; margin-left: 2%;" class="shippingpara">Shipping, taxes, and discounts codes calculated at checkout.</p>
    <button class="checkout" onclick="window.location.href='cart.html';">CHECK OUT</button>   
    <p class="empty-cart-message">Your cart is empty.</p>
</div>
<div id="curtain-overlay"></div>





</body>
<script > 
document.querySelector('#lth').addEventListener('click', sorting)
 function sorting(){
  data.sort(function (a,b){
    let aDiscountedPrice = parseFloat(a.price.split(' ')[1].replace(/[^0-9.-]+/g, ""));
    let bDiscountedPrice = parseFloat(b.price.split(' ')[1].replace(/[^0-9.-]+/g, ""));
    
    if(aDiscountedPrice>bDiscountedPrice){
      return 1
    }
    if(aDiscountedPrice<bDiscountedPrice){
      return -1
    }
    return 0;
  })
  console.log (data);
  display(data);

 }
 document.querySelector('#htl').addEventListener('click', sorting)
 function sorting(){
  data.sort(function (a,b){
    let aDiscountedPrice = parseFloat(a.price.split(' ')[1].replace(/[^0-9.-]+/g, ""));
    let bDiscountedPrice = parseFloat(b.price.split(' ')[1].replace(/[^0-9.-]+/g, ""));
    
    if(aDiscountedPrice>bDiscountedPrice){
      return -1
    }
    if(aDiscountedPrice<bDiscountedPrice){
      return 1
    }
    return 0;
  })
  console.log (data);
  display(data);

 }

var main= document.querySelector('.bottom-div')
    var data=[{
          pic:"https://www.bluefly.com/cdn/shop/files/213933-760943__20058__2_720x.jpg?v=1721953249",
     name:"Celine 16 Mini Leather Satchel",
     price:"$675.00 $279.99 Save 59%",
     link:"bagsdetails.html"
      },
      {
        pic:"https://www.bluefly.com/cdn/shop/files/1161966048_RLLZ_1_360x.jpg?v=1721506961",
      name:"Ferragamo Womens Gemini Crossbody Bag",
      price:"$895.00 $319.99 Save 64% ",
      link:"bagsdetailspart2.html"
      },
      {
      pic:"https://cdn.shopify.com/s/files/1/0248/3473/6191/files/1160058105_RLLZ_2_900x.jpg?v=1725678361",
      name:"Gucci Guccissima Leather Top Handle Tote",
      price:"$1,890.00 $1,299.9 Save 31%",
      link:"bagsdetails.html"
      },
      {
      pic:"https://www.bluefly.com/cdn/shop/files/210428-744532__40001__1_360x.jpg?v=1721997317",
      name:"Ferragamo Womens Rounded Gancini Tote Bag",
      price:"$895.0 $319.9 Save 64%",
      link:"bagsdetailspart2.html"

      },
      {
          pic:"https://cdn.shopify.com/s/files/1/0248/3473/6191/files/1111613643_RLLZ_2_900x.jpg?v=1725739839",
          name:"Saint Laurent Manhattan Mini Leather Crossbody",
          price:"$895.00 $1699.99 Save 76%",
          link:"bagsdetails.html"

    
      },
    ]
    document.querySelector('.label').innerText=data.length

    console.log (data.length);
       function display(data){
        var main = document.querySelector('.bottom-div')
            main.innerHTML = '';

       data.forEach (function(elem,index){
       var link = document.createElement("a");
       link.setAttribute("href", elem.link);
       link.style.textDecoration="none";
          // link.setAttribute("class", "productdiv");
    
      var box=document.createElement("div")
       box.setAttribute("class","productdiv")
       var box1=document.createElement("div")
       box1.setAttribute("class","iteimg")
    
      var img=document.createElement("img")
      img.setAttribute("src",elem.pic)
    //     // console.log(elem.logo);
         var h5=document.createElement("h5")
      h5.innerText=  elem.name
      h5.setAttribute("class","productname")
      var para = document.createElement("p");
      para.setAttribute("class", "price-det");

      var priceText = elem.price.split(' ');
       var originalPrice = priceText[0];
       var discountedPrice = priceText[1];
       var savings = priceText.slice(2).join(' '); // Join remaining parts for savings
                 // Format the price details
        para.innerHTML = `<span class="original-price">${originalPrice}</span>
       <span class="discounted-price">${ discountedPrice }</span>
     <span class="savings">${ savings }</span>`;
    
    // var main = document.getElementById('main');
    main.appendChild(link);
    //   link.appendChild(box)
       main.append(box)
     box.append(box1,h5,para)
     box1.append(img)
     link.append(box)
    
    
      })
    }
    display(data)
    document.addEventListener('DOMContentLoaded', function() {
  const cartContainer = document.getElementById('cart-container');
  const curtainOverlay = document.getElementById('curtain-overlay');
  const cartItemContainer = document.querySelector('.cart-item-container');
  const emptyCartMessage = document.querySelector('.empty-cart-message');
  const subtotalDisplay = document.querySelector('.displaysub');
  const headingsubt = document.querySelector('.subt');
  const paraone = document.querySelector('.shippingpara');
  const cartdot = document.querySelector('.dot');
  const checkoutButton = document.querySelector('.checkout'); // Ensure this exists

  // Function to update cart display
  function updateCartDisplay() {
    const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
    cartItemContainer.innerHTML = ''; // Clear existing items

    if (cartItems.length > 0) {
      cartItems.forEach(item => {
        const cartItem = document.createElement('div');
        cartItem.classList.add('cart-item');
        cartItem.dataset.name = item.name; // Set a data attribute for easy access

        cartItem.innerHTML = `
          <div class="cart-item-image">
            <img src="${item.imageSrc}" alt="Cart Image">
          </div>
          <div class="item-info" style="font-size:15px">
            <h2>${item.name}</h2>
            <div class="quantity-controls">
              <button class="quantity-button" data-action="dec">-</button>
              <span class="quantity-number">${item.quantity}</span>
              <button class="quantity-button" data-action="inc">+</button>
              <p class="price-details">
                <span class="discount" style="font-size:22px">$${(item.price * item.quantity).toFixed(2)}</span>
              </p>
            </div>
          </div>
          <hr style="border: 1px solid black; margin: 10px 0;">
          <div style="border-top: 1px solid black; margin: 10px 0;"></div>
        `;

        cartItemContainer.appendChild(cartItem);
      });

      // Update subtotal
      const subtotal = cartItems.reduce((total, item) => total + (item.price * item.quantity), 0);
      if (subtotalDisplay) {
        subtotalDisplay.innerText = `$${subtotal.toFixed(2)}`;
      }

      if (emptyCartMessage) {
        emptyCartMessage.style.display = 'none';
      }

      if (checkoutButton) {
        checkoutButton.style.display = 'block'; // Show checkout button when cart has items
      }

      if (headingsubt) {
        headingsubt.style.display = 'block';
      }

      if (paraone) {
        paraone.style.display = 'block';
      }
    } else {
      if (emptyCartMessage) {
        emptyCartMessage.style.display = 'block';
      }

      if (subtotalDisplay) {
        subtotalDisplay.innerText = '';
      }

      if (checkoutButton) {
        checkoutButton.style.display = 'none'; // Hide checkout button when cart is empty
      }

      if (headingsubt) {
        headingsubt.style.display = 'none';
      }

      if (paraone) {
        paraone.style.display = 'none';
      }
    }

    if (cartdot) {
      const isEmpty = emptyCartMessage && window.getComputedStyle(emptyCartMessage).display === 'block';
      cartdot.style.display = isEmpty ? 'none' : 'block';
    }
  }

  // Handle quantity changes
  if (cartItemContainer) {
    cartItemContainer.addEventListener('click', function(event) {
      if (event.target.classList.contains('quantity-button')) {
        const action = event.target.getAttribute('data-action');
        const cartItem = event.target.closest('.cart-item');
        if (!cartItem) return; // Ensure cartItem is found

        const quantityElement = cartItem.querySelector('.quantity-number');
        const itemName = cartItem.dataset.name;
        let quantity = parseInt(quantityElement.textContent);

        if (isNaN(quantity)) {
          console.error('Invalid quantity:', quantity);
          return;
        }

        const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
        const itemIndex = cartItems.findIndex(item => item.name === itemName);

        if (itemIndex === -1) {
          console.error(`Item with name ${itemName} not found in cartItems.`);
          return;
        }

        if (action === 'inc') {
          quantity++;
        } else if (action === 'dec') {
          quantity = Math.max(0, quantity - 1); // Ensure quantity does not go below 0
          if (quantity === 0) {
            cartItems.splice(itemIndex, 1); // Remove item if quantity is 0
            cartItem.remove();
          }
        }

        quantityElement.textContent = quantity;
        if (itemIndex > -1) {
          if (quantity > 0) {
            cartItems[itemIndex].quantity = quantity;
          } else {
            cartItems.splice(itemIndex, 1);
          }
        }

        localStorage.setItem('cartItems', JSON.stringify(cartItems));

        // If cart is empty, clear all items and show empty message
        if (cartItems.length === 0) {
          localStorage.removeItem('cartItems');
          updateCartDisplay(); // Update the display to show empty message
        } else {
          updateCartDisplay(); // Update the display
        }
      }
    });
  }

  // Show cart overlay when cart icon is clicked
  const cartIcon = document.querySelector('.cartIcon');
  if (cartIcon) {
    cartIcon.addEventListener('click', function() {
      curtainOverlay.classList.add('show'); // Show the curtain overlay
      cartContainer.classList.add('show'); // Show the cart container
    });
  }

  // Close cart overlay when curtain or cancel button is clicked
  if (curtainOverlay) {
    curtainOverlay.addEventListener('click', function() {
      curtainOverlay.classList.remove('show');
      if (cartContainer) cartContainer.classList.remove('show');
    });
  }

  const cancelButton = document.querySelector('.cancel');
  if (cancelButton) {
    cancelButton.addEventListener('click', function() {
      curtainOverlay.classList.remove('show');
      if (cartContainer) cartContainer.classList.remove('show');
    });
  }

  // Initialize cart display
  updateCartDisplay();
});


document.addEventListener('DOMContentLoaded', function() {
            document.querySelector('.sub').addEventListener('click', function() {
                console.log("Button clicked");
                
                var input = document.getElementById('input').value;
                if (input.trim() === "") {
                    console.log("Input is empty");
                    alert('Please enter your email address');
                } else {
                    console.log("Input is filled");
                    alert('Thank you for subscribing');
                }
            });
        });


        document.addEventListener('DOMContentLoaded', function() {
        document.querySelector("#ins").addEventListener("click", function() {
                console.log("Instagram icon clicked");
         window.location.href = "https://www.instagram.com/bluefly/?hl=en";
            });
            document.querySelector("#fb").addEventListener("click", function() {
                console.log("Facebook icon clicked");
                window.location.href = "https://www.facebook.com/Bluefly/";
            });

        });


// a.price is a string that contains the price information, like "$675.00 $279.99 Save 59%".
// .split(' ') splits this string into an array of substrings using the space character as the delimiter. For example, this would result in ["$675.00", "$279.99", "Save", "59%"].
// [1]:

// [1] accesses the second element of the array (arrays are zero-indexed). In this case, it gets the discounted price part of the array, i.e., "$279.99".
// .replace(/[^0-9.-]+/g, ""):

// .replace(...) is used to remove any characters from the string that are not part of a number.
// The regular expression /[^0-9.-]+/g matches any character that is not a digit (0-9), a decimal point (.), or a minus sign (-). The + means "one or more of these characters," and the g is a global flag that applies the replacement throughout the entire string.
// "" is the replacement string, which means it replaces the matched characters with an empty string. Essentially, it strips out $ and any other non-numeric characters.
// Example:

// Before replacement: "$279.99"
// After replacement: "279.99"
// parseFloat(...):

// parseFloat(...) converts the cleaned string to a floating-point number.
// For the example "279.99", parseFloat will convert it to the number 279.99.

</script>
</html>